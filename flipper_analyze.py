import os.path
import xml.etree.ElementTree as ET
import csv
# Open and parse the XML file


def analyze(directory_path):
    #directory_path = r'C:/Users/micha/Apps/Flipper/Flipper-Data_and_Results/Flipper-2B_1.zip/'
    # Find and count the number of <Component> elements within <PhotoComponents>
    xml_file = (directory_path + "/reports/report.xml")  # Replace with the path to your XML file
    tree = ET.parse(xml_file)
    root = tree.getroot()
    images = root.find(".//PhotoComponents")
    if images == None:
        print (directory_path)


    photo_images = root.find(".//LostPhotos")



    with open(directory_path + r'/reports/QualityReport.html', 'r') as file:
        html_content = file.read()

    tie_points = html_content.split('Tie points:</td>\n\t\t<td class="simple" >')[1].split(" points ")[0].split(" ")[0]
    dataset = html_content.split('calibration.</span></div></td>\n\t\t<td class="simple" >')[1].split(" ")[0]
    median_per_image = html_content.split('Tie points:</td>\n\t\t<td class="simple" >')[1].split(" points ")[0].split(" ")[6]
    reprojection_error_rms = html_content.split('Reprojection error (RMS):</td>\n\t\t<td class="simple" >')[1].split(" points ")[0].split(" ")[0]
    ground_coverage = html_content.split('Ground coverage:</td>\n\t\t<td class="simple" >')[1].split(" points ")[0].split(" ")[0].split(" ")[0]
    ground_resolution = html_content.split('Average size of 1 pixel in \'real world\' units.</span></div></td>\n\t\t<td class="simple" >')[1].split(" ")[0]
    task_time = html_content.split('Processing time:</td>\n\t\t<td class="simple" >')[1].split("<")[0]
    image_dimensions = html_content.split('Image dimensions:</td>\n\t\t<td class="simple" >')[1].split(" ")[0]

    if "h" in task_time:
        t = (task_time.split(" ")[0])
        ti = t.split("h")
        tim = t[0]
        hrs_to_min = int(tim) * 60
        min = task_time.split(" ")[1].split("min")[0]
        total_min = int(hrs_to_min) + int(min)

    else:
        min = task_time.split("m")[0]
        total_min = int(min)
    video_extensions = ['.mp4', '.ts', ".m4v"]  # Add more extensions if needed
    video_files = []
    for file in os.listdir(directory_path):
        if any(file.lower().endswith(ext) for ext in video_extensions):
            video_files.append(file)

   # print (video_files)
    for each_video in video_files:
        if "dehazed" not in each_video and "Desktop" not in each_video:
            raw_size = os.path.getsize(os.path.join(directory_path, each_video)) >> 10
    map_size = sum([os.path.getsize(os.path.join(directory_path, "model", f)) for f in os.listdir(os.path.join(directory_path, "model"))]) >> 10
    num_photo = html_content.split('Number of photos:</td>\n\t\t<td class="simple" >')[1].split(" ")[0].split("<")[0]
    #print ("num ph " + str(num_photo))
    #print(html_content)
    # Create a dictionary
    result_dict = {
        "Dataset Name": directory_path.split("/")[-1],
        "Number of Images": num_photo,
        "Number of Successfully Triangulated Images":  dataset,
        "Success Ratio": str(eval(dataset)/eval(num_photo)),
        "Tie Points": str(tie_points),
        "Median Tie Points per Image": str(median_per_image),
        "Re-Projection Error (RMS)": str(reprojection_error_rms),
        "Ground Coverage (in generic sq units)": str(ground_coverage),
        "Average Ground Resolution": str(ground_resolution),
        "Total Processing Time": str(total_min),
        "Image Dimensions": str(image_dimensions),
        "Uncompressed Raw Video Size (in MB)": str(raw_size),
        "Uncompressed 3D Model Size (in MB) *includes textures": str(map_size),
        "3D Model Size vs Video Size (%)": str(map_size/raw_size * 100)
    }

    return result_dict

payload = []
for i in os.listdir(r"C:/Users/micha/Apps/Flipper/Flipper-Data_and_Results"):
    try:
        r = analyze(r"C:/Users/micha/Apps/Flipper/Flipper-Data_and_Results/" + i)
        payload.append(r)
    except TypeError as x:
        print("error " + i)
        print (x)

for i in payload:
    print (i)
print (len(payload))
field_names = payload[0].keys()
with open('sunseting/results.csv', 'w') as csvfile:
    writer = csv.DictWriter(csvfile, fieldnames = field_names)
    writer.writeheader()
    writer.writerows(payload)

#'129796 points, with a median of 664 points per photo.</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Reprojection error (RMS):</td>\n\t\t<td class="simple" >0.74 pixels</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Positioning / scaling:</td>\n\t\t<td class="simple" >Relative, not georeferenced</td>\n</tr>\n</table>\n</div>\n<h2 id=\'{c6c50ec2-e57c-43b0-96a2-407df9142037}\'>Camera Calibration<img style = \'float: right; vertical-align: middle; cursor: pointer;\' src = \'icons/arrow_up.png\' alt=\'\' id=\'{ab967ba6-4c26-42c0-a45b-7208c5d20238}\' class=\'showHideImage\' onclick="toggle(\'{3699b9d7-da14-4fbb-b7bb-444666977a79}\',\'{ab967ba6-4c26-42c0-a45b-7208c5d20238}\')"/></h2>\n<div id=\'{3699b9d7-da14-4fbb-b7bb-444666977a79}\'>\n<h3 id=\'{e9332a74-17e6-48dd-96a8-b7425b920207}\'>Unknown camera 1090x820</h3>\n<table class="simple" >\n\t<tr class="simple" >\n\t\t<td class="simple" >Name:</td>\n\t\t<td class="simple" >Unknown camera model</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Model type: <div class=\'popup\' onclick="popupFunction(\'{f2d929f8-38bc-439d-97eb-0ae5d8aa11e9}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_left\' id = \'{f2d929f8-38bc-439d-97eb-0ae5d8aa11e9}\'>Type of lens (Perspective or Fisheye).</span></div></td>\n\t\t<td class="simple" >Perspective</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Image dimensions:</td>\n\t\t<td class="simple" >1090x820 pixels</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Number of photos:</td>\n\t\t<td class="simple" >881</td>\n</tr>\n</table>\n<h4 id=\'{66547d69-2f0a-4a15-8319-d4b03eb73e1e}\'>Calibration Results</h4>\n<table class="row_column_header" >\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" ></th>\n\t\t<th class="row_column_header" >Focal Length [pixels]</th>\n\t\t<th class="row_column_header" >Focal Length Equivalent 35 mm [mm] <div class=\'popup\' onclick="popupFunction(\'{2ebb560f-3e9b-45e3-aafe-db99c8d0f956}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_left\' id = \'{2ebb560f-3e9b-45e3-aafe-db99c8d0f956}\'>The focal length needed in a 35 mm camera to obtain the same angle of view as the real lens-sensor combination.</span></div></th>\n\t\t<th class="row_column_header" >Principal Point X [pixels] <div class=\'popup\' onclick="popupFunction(\'{03bb956c-9421-4393-8c26-b3209e0083ae}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_left\' id = \'{03bb956c-9421-4393-8c26-b3209e0083ae}\'>Principal point X: Projection center X - coordinate in pixels (origin is top left corner)<br/>Principal point Y: Projection center Y - coordinate in pixels (origin is top left corner)</span></div></th>\n\t\t<th class="row_column_header" >Principal Point Y [pixels]</th>\n\t\t<th class="row_column_header" >K1 <div class=\'popup\' onclick="popupFunction(\'{8dc14009-0cea-4ae6-9a3f-741bfd57df63}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_right\' id = \'{8dc14009-0cea-4ae6-9a3f-741bfd57df63}\'>K1, K2, K3: Radial distortion coefficients of the lens.<br>P1, P2: Tangential distortion coefficients of the lens.</span></div></th>\n\t\t<th class="row_column_header" >K2</th>\n\t\t<th class="row_column_header" >K3</th>\n\t\t<th class="row_column_header" >P1</th>\n\t\t<th class="row_column_header" >P2</th>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Previous Values</th>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Optimized Values</th>\n\t\t<td class="row_column_header" >709.039</td>\n\t\t<td class="row_column_header" >23.4178</td>\n\t\t<td class="row_column_header" >544.37</td>\n\t\t<td class="row_column_header" >409.37</td>\n\t\t<td class="row_column_header" >-0.10428</td>\n\t\t<td class="row_column_header" >0.146614</td>\n\t\t<td class="row_column_header" >-0.0395891</td>\n\t\t<td class="row_column_header" >-0.00379473</td>\n\t\t<td class="row_column_header" >0.000356619</td>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Difference Previous / Optimized</th>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n</tr>\n</table>\n<h4 id=\'{48768287-4ee3-46ac-9ef0-aee7d37f6d6c}\'>Distortion Grid</h4>\n<img src=\'images/camera_grid0.png\' alt=\'\'>\n<p style=\'padding-bottom: 15px;\'><b>Camera Lens Distortion: </b><i>Gray lines represent the zero distortion grid, and blue lines represent the real camera values.</i></p></div>\n<h2 id=\'{8b9b4f26-0a44-4b1c-9c93-940bac100e2b}\'>Photo Positions<img style = \'float: right; vertical-align: middle; cursor: pointer;\' src = \'icons/arrow_up.png\' alt=\'\' id=\'{a76392d2-c809-4aee-ad8b-c828f2cc35ef}\' class=\'showHideImage\' onclick="toggle(\'{4c06da41-3d43-44e1-8fcf-6ade5184fc80}\',\'{a76392d2-c809-4aee-ad8b-c828f2cc35ef}\')"/></h2>\n<div id=\'{4c06da41-3d43-44e1-8fcf-6ade5184fc80}\'>\n<h3 id=\'{f1d97698-e858-43da-aeb8-4173557e9e0b}\'>Photo Position Uncertainties</h3>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/camera_position_uncertainties_Y_X.png\' alt=\'\'>\n<img src=\'images/camera_position_uncertainties_Y_Z.png\' alt=\'\'>\n</div><p style=\'margin: 0px;\'></p>\n<div><img src=\'images/camera_position_uncertainties_Z_X.png\' alt=\'\'>\n</div>\n<p style=\'padding-bottom: 15px;\'><b>Position Uncertainties: </b><i>Top view (XY plane), side view (ZY plane) and front view (XZ plane) of computed photo positions (black dots). Blue ellipses indicate the position uncertainty, scaled for readability. The minimum and maximum values, as well as the average value, can be found in the table below.</i></p><table class="row_column_header" >\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header_2" colspan="4" >Position Uncertainties <div class=\'popup\' onclick="popupFunction(\'{70c1315b-87ef-438d-bf20-031130ac90a8}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_left\' id = \'{70c1315b-87ef-438d-bf20-031130ac90a8}\'>Statistics based on the uncertainty value of each photo position.</span></div></th>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" ></th>\n\t\t<th class="row_column_header" >X [units]</th>\n\t\t<th class="row_column_header" >Y [units]</th>\n\t\t<th class="row_column_header" >Z [units]</th>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Minimum</th>\n\t\t<td class="row_column_header" >0.00009</td>\n\t\t<td class="row_column_header" >0.00009</td>\n\t\t<td class="row_column_header" >0.00012</td>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Mean</th>\n\t\t<td class="row_column_header" >0.00054</td>\n\t\t<td class="row_column_header" >0.00057</td>\n\t\t<td class="row_column_header" >0.00068</td>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Maximum</th>\n\t\t<td class="row_column_header" >0.01717</td>\n\t\t<td class="row_column_header" >0.00462</td>\n\t\t<td class="row_column_header" >0.00827</td>\n</tr>\n</table>\n<p style = "margin-top: 2em;">For more information on individual photos, please refer to the <a href="PhotosReport.html"><b>Photos Report</b></a>.</p>\n<h3 id=\'{8e26bd0e-3a3d-4129-a8ed-779f5cbe1881}\'>Scene Coverage</h3>\n<table>\n<tr>\n<td>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/camera_coverage_Y_X.png\' style=\'padding-right:4px\' alt=\'\'>\n</div>\n</td>\n</tr>\n<tr>\n<td>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/scale_camera_coverage_Y_X.png\' style=\'padding-right:4px\' alt=\'\'></div>\n</td>\n</tr>\n<tr>\n<td>\n<p style=\'padding-bottom: 15px;\'><b>Number of photos seeing the scene: </b><i>Top view (XY plane) display of the scene, with colors indicating the <b>number of photos</b> that potentially see each area.</i></p></td>\n</tr>\n</table>\n</div>\n<h2 id=\'{9bcec55e-ca9c-4f51-be46-4fec5976aa4a}\'>Photo Matching<img style = \'float: right; vertical-align: middle; cursor: pointer;\' src = \'icons/arrow_up.png\' alt=\'\' id=\'{17843a1f-f29f-4100-a336-4501e43bd110}\' class=\'showHideImage\' onclick="toggle(\'{cf8179b5-46f8-4d21-bfdc-a214970a5cf6}\',\'{17843a1f-f29f-4100-a336-4501e43bd110}\')"/></h2>\n<div id=\'{cf8179b5-46f8-4d21-bfdc-a214970a5cf6}\'>\n<h3 id=\'{aa803783-11bd-4cb5-b489-23f515412d35}\'>Quality Measures on Tie Points</h3>\n<table class="row_column_header" >\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header_2" colspan="6" >Generated Tie Points <div class=\'popup\' onclick="popupFunction(\'{9b1bb710-bdc1-4882-9758-f7e35fd1fa84}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_left\' id = \'{9b1bb710-bdc1-4882-9758-f7e35fd1fa84}\'>Statistics based on the tie points generated from the calibration.</span></div></th>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Number of Points</th>\n\t\t<th class="row_column_header" >Median Number of Photos per Point</th>\n\t\t<th class="row_column_header" >Median Number of Points per Photo</th>\n\t\t<th class="row_column_header" >Median Reprojection Error [pixels]</th>\n\t\t<th class="row_column_header" >RMS of Reprojection Error [pixels]</th>\n\t\t<th class="row_column_header" >RMS of Distances to Rays [units] <div class=\'popup\' onclick="popupFunction(\'{60ba8e80-dbae-44cb-90bb-1a968d0de825}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_right\' id = \'{60ba8e80-dbae-44cb-90bb-1a968d0de825}\'>The square root of the average of the square distances to rays. A ray is the 3D line that starts from a photo position and passes through the tie-point position observed in that photo. The orthogonal distance from the real tie-point 3D position to that ray is the distance to ray.</span></div></th>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<td class="row_column_header" >129796</td>\n\t\t<td class="row_column_header" >4</td>\n\t\t<td class="row_column_header" >664</td>\n\t\t<td class="row_column_header" >0.56</td>\n\t\t<td class="row_column_header" >0.74</td>\n\t\t<td class="row_column_header" >0.01364</td>\n</tr>\n</table>\n<p style = "margin-top: 2em;">For more information on individual photos, please refer to the <a href="PhotosReport.html"><b>Photos Report</b></a>.</p>\n<h4 id=\'{0d945cd0-82b2-4192-b8e2-9b818c87ec02}\'>Tie Point Position Uncertainties</h4>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/tie_points_uncertainties_Y_X.png\' style=\'padding-right:4px\' alt=\'\'><img src=\'images/tie_points_uncertainties_Y_Z.png\' style=\'padding-right:4px\' alt=\'\'></div><p style=\'margin: 0px;\'></p>\n<div><img src=\'images/tie_points_uncertainties_Z_X.png\' style=\'padding-right:4px\' alt=\'\'></div>\n<p><img src=\'images/scale_uncertainties.png\' alt=\'\'></p><p style=\'padding-bottom: 15px;\'><b>Position Uncertainties: </b><i>Top view (XY plane), side view (ZY plane) and front view (XZ plane) displays of all tie points, with colors representing uncertainty in the individual point position. The values are in 3D units, with a minimum uncertainty of <b style=\'font-style: normal\'>0.0008 units</b> and a maximum of <b style=\'font-style: normal\'>2.67831 units</b>. The median position uncertainty equals <b style=\'font-style: normal\'>0.01708 units</b>.</i></p><h4 id=\'{24f7af4c-c900-4214-8719-5d9a4b3d6bc7}\'>Number of Photos Observing the Tie Points</h4>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/tie_points_length_Y_X.png\' style=\'padding-right:4px\' alt=\'\'><img src=\'images/tie_points_length_Y_Z.png\' style=\'padding-right:4px\' alt=\'\'></div><p style=\'margin: 0px;\'></p>\n<div><img src=\'images/tie_points_length_Z_X.png\' style=\'padding-right:4px\' alt=\'\'></div>\n<p><img src=\'images/scale_length.png\' alt=\'\'></p><p style=\'padding-bottom: 15px;\'><b>Number of Observations per Tie Point: </b><i>Top view (XY plane), side view (ZY plane) and front view (XZ plane) displays of all tie points, with colors representing the number of photos that have been used to define each point. The minimum number of photos per tie point is <b style=\'font-style: normal\'>3</b> and the maximum is <b style=\'font-style: normal\'>49</b>. The average number of photos observing a tie point is <b style=\'font-style: normal\'>5</b>.</i></p><h4 id=\'{89456e2e-adb7-4eae-80ac-1fd6a5496b00}\'>Reprojection Error</h4>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/tie_points_reprojection_Y_X.png\' style=\'padding-right:4px\' alt=\'\'><img src=\'images/tie_points_reprojection_Y_Z.png\' style=\'padding-right:4px\' alt=\'\'></div><p style=\'margin: 0px;\'></p>\n<div><img src=\'images/tie_points_reprojection_Z_X.png\' style=\'padding-right:4px\' alt=\'\'></div>\n<p><img src=\'images/scale_reprojection.png\' alt=\'\'></p><p style=\'padding-bottom: 15px;\'><b>Reprojection Errors per Tie Point: </b><i>Top view (XY plane), side view (ZY plane) and front view (XZ plane) displays of all tie points, with colors representing the reprojection error in pixels. The minimum reprojection error is <b style=\'font-style: normal\'>0.01 pixels</b> and the maximum is <b style=\'font-style: normal\'>1.81 pixels</b>. The average reprojection error is <b style=\'font-style: normal\'>0.67 pixels</b>.</i></p><h4 id=\'{d99207ba-575f-4689-87c8-6ecf7f370823}\'>Tie Point Resolution</h4>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/tie_points_resolution_Y_X.png\' style=\'padding-right:4px\' alt=\'\'><img src=\'images/tie_points_resolution_Y_Z.png\' style=\'padding-right:4px\' alt=\'\'></div><p style=\'margin: 0px;\'></p>\n<div><img src=\'images/tie_points_resolution_Z_X.png\' style=\'padding-right:4px\' alt=\'\'></div>\n<p><img src=\'images/scale_resolution.png\' alt=\'\'></p><p style=\'padding-bottom: 15px;\'><b>Resolution: </b><i>Top view (XY plane), side view (ZY plane) and front view (XZ plane) displays of all tie points, with colors representing resolution in the individual point position. The values are in 3D units/pixel, with a minimum resolution of <b style=\'font-style: normal\'>0.00111 units/pixel</b> and a maximum of <b style=\'font-style: normal\'>0.05624 units/pixel</b>. The median resolution equals <b style=\'font-style: normal\'>0.00483 units/pixel</b>.</i></p></div>\n<h2 id=\'{fbc0ec4a-d453-4eb3-8857-3db48beb9f67}\'>Surveys<img style = \'float: right; vertical-align: middle; cursor: pointer;\' src = \'icons/arrow_up.png\' alt=\'\' id=\'{dd44a7d4-53e9-4aea-a536-33fba69eda62}\' class=\'showHideImage\' onclick="toggle(\'{1b7c5ab6-4920-4786-9b2f-d85684d19c44}\',\'{dd44a7d4-53e9-4aea-a536-33fba69eda62}\')"/></h2>\n<div id=\'{1b7c5ab6-4920-4786-9b2f-d85684d19c44}\'>\n<p>No survey points available.</p>\n</div>\n\n</body>\n</html>\n']
#Out[114]: '<!DOCTYPE html>\n<html>\n<head>\n<title>Quality Report</title>\n\t<!-- Tell IE to use the latest, best version. -->\n<meta http-equiv=\'X-UA-Compatible\' content=\'IE=edge\'>\n<meta charset="UTF-8">\n<meta name = \'version\' content = \'3.0\'/>\n\n<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">\n<style>\nh1 {\n    color: #4D575F;\t\n\tfont-size: 150%;\n\tfont-family: \'Open Sans\', sans-serif;\n\tfont-variant: small-caps;\n\tpadding: 10px;\t\n\tborder-bottom: 1px solid #4D575F;\n}\nh2 {\n    color: #ffffff;\n\tbackground-color: #4D575F;\n\tfont-size: 125%;\n\tfont-family: \'Open Sans\', sans-serif;\n\tpadding: 10px;\n}\nh3 {\n    color: #4D575F;\n\tfont-size: 115%;\n\tfont-family: \'Open Sans\', sans-serif;\n\tpadding: 10px;\n\tborder-bottom: 3px solid #008be1;\n}\nh4 {\n    color: #008be1;\n\tfont-size: 105%;\n\tfont-family: \'Open Sans\', sans-serif;\n\tpadding-left: 10px;\n}\nbody {\t\n\tfont-size: 13px;\n\tfont-family: \'Open Sans\', sans-serif;\n}\na:link    { color: #56aa1c }  /* unvisited links */\na:visited { color: #56aa1c }  /* visited links   */\na:hover   { color: #468b17 }  /* user hovers     */\ntable {\n    border-collapse: collapse;\n    width: 100%;\n    height: 100%;\n}\nth.simple, td.simple {\n    padding: 8px;\n    text-align: left;\n    border-bottom: 1px solid #4D575F;\n    width: 1px; /* min width, actually: this causes the width to fit the content */\n    white-space: normal\n}\ntd.simple:not(:last-child), td.simple:not(:last-child) {\n white-space: nowrap\n}\nth.simple:last-child, td.simple:last-child {\n    width: 100%;/* well, it\'s less than 100% in the end, but it will stretch to fill the remaining space*/\n}\nth.row_column_header, td.row_column_header , th.row_header, td.row_header {\n    padding: 8px;\n    text-align: left;\n    border: 1px solid #4D575F;\n    height: 100%;\n}\nth.row_column_header, th.row_header  {\n    font-weight: bold;\n    background-color: #EEF0F3;\n}\nth.row_column_header_2 {\n    padding: 8px;\n    text-align: center;\n    border: 1px solid #4D575F;\n    font-weight: bold;\n    background-color: #D7DBDE;\n}\ntd.row_column_error_flag {\n    padding: 0px;\n    text-align: center;\n    border: 1px solid #4D575F;  \n    height: 100%;\n}\n/* Popup container */\n.popup {\n    position: relative;\n    display: inline-block;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n/* The actual popup: left*/\n.popup .popuptext_left {\n    visibility: hidden;\n    width: 280px;\n    background-color: #4D575F;\n    color: #fff;\n    text-align: center;\n    border-radius: 6px;\n    padding: 8px;\n    position: absolute;\n    z-index: 1;\n    bottom: 125%;\n    left: 5%;\n    margin-left: -13px; /**/\n\twhite-space: pre-line;\n}\n/* Popup left arrow */\n.popup .popuptext_left::after {\n    content: "";\n    position: absolute;\n    top: 100%;\n    left: 5%;\n    margin-left: 0px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: #4D575F transparent transparent transparent;\t\n}\n/* The actual popup: right */\n.popup .popuptext_right {\n    visibility: hidden;\n    width: 280px;\n    background-color: #4D575F;\n    color: #fff;\n    text-align: center;\n    border-radius: 6px;\n    padding: 8px;\n    position: absolute;\n    z-index: 1;\n    bottom: 125%;\n    right: 5%;\n    margin-right: -13px; /**/\n\twhite-space: pre-line;\n}\n/* Popup right arrow */\n.popup .popuptext_right::after {\n    content: "";\n    position: absolute;\n    top: 100%;\n    right: 5%;\n    margin-right: 0px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: #4D575F transparent transparent transparent;\t\n}\n/* Toggle this class - hide and show the popup */\n.popup .show {\n    visibility: visible;\n    -webkit-animation: fadeIn 1s;\n    animation: fadeIn 1s;\n}\n/* Add animation (fade in the popup) */\n@-webkit-keyframes fadeIn {\n    from {opacity: 0;} \n    to {opacity: 1;}\n}\n@keyframes fadeIn {\n    from {opacity: 0;}\n    to {opacity:1 ;}\n}\n/* Table of contents */\n#toc_container {\n    background-color: #EEF0F3;\n    border: 1px solid #4D575F;      \n    margin-bottom: 1em;\n    padding: 20px;   \n}\n.toc_title {\n    font-weight: 700;\n    text-align: left;\n}\n#toc_container li, #toc_container ul, #toc_container ul li{\n    list-style: outside none none !important;\n}\n\n</style>\n<script>\nfunction popupFunction(id) {var popup = document.getElementById(id);popup.classList.toggle(\'show\'); }\n\ndocument.onclick = function(e) {\n\tvar elements = document.getElementsByClassName(\'popup\');\n\tvar elementsPopupLeft = document.getElementsByClassName(\'popuptext_left\'); \n\tvar elementsPopupRight = document.getElementsByClassName(\'popuptext_right\');\n\tvar isPopup = false;\n\tfor (var i = 0; i < elements.length; i++) {\n\t\tif (isPopup)\n\t\t\tbreak;\n\t\tvar target = (e && e.target) || (event && event.srcElement);\n\t\twhile (target.parentNode) {\n\t\t\tif (target == elements[i]) {\n\t\t\t\tisPopup = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ttarget = target.parentNode;\n\t\t}\n\t}\n\tif (!isPopup) // if the target of the click isn\'t the container...\n\t{\n\t\tfor (var i = 0; i < elementsPopupLeft.length; i++) {\n\t\t\telementsPopupLeft[i].classList.remove(\'show\');\n\t\t}\n\t\tfor (var i = 0; i < elementsPopupRight.length; i++) {\n\t\t\telementsPopupRight[i].classList.remove(\'show\');\n\t\t}\n\t}\n}\n\nfunction toggle(idHide, idCaller) {\n\tvar x = document.getElementById(idHide);\n\tvar y = document.getElementById(idCaller)\n\tif (x.style.display === \'none\') {\n\t\tx.style.display = \'block\';\n\t\ty.src  = \'icons/arrow_up.png\';\n\t}\n\telse {\n\t\tx.style.display = \'none\';\n\t\ty.src = \'icons/arrow_down.png\';\n\t}\n}\n// Parse the URL parameter\nfunction getParameterByName(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \'\\$&\');\n    var regex = new RegExp(\'[?&]\' + name + \'(=([^&#]*)|&|#|$)\'),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return \'\';\n    return decodeURIComponent(results[2].replace(/\\+/g, \' \'));\n}\nfunction hidePDF() {\n    // Give the parameter a variable name\n    var dynamicContent = getParameterByName(\'dc\');\n    var elementsToHide = [\'popup\', \'showHideImage\'];\n    // Check if the URL parameter is apples\n    if (dynamicContent == \'pdf\') {\n        for (var index = 0; index < elementsToHide.length; index++) {\n            var elements = document.getElementsByClassName(elementsToHide[index]);\n            for (var i = 0; i < elements.length; i++) {\n                elements[i].style.display = \'none\';\n            }\n        }\n    }\n    else {\n        for (var elementToHide in elementsToHide) {\n            var elements = document.getElementsByClassName(elementToHide);\n            for (var i = 0; i < elements.length; i++) {\n                elements[i].style.display = \'\';// Set display to empty string to use default for that element\n            }\n        }\n    }\n};\nwindow.onload = hidePDF;\n\n</script>\n</head>\n<body>\n<h1 id=\'{2697f139-0d01-4023-9c5f-0e259b02aba7}\'>Quality Report<img style = \'float: right; vertical-align: middle;\' src = \'icons/logo.png\' height = \'30\' alt=\'\'></h1>\n<div id=\'toc_container\'>\n<p class=\'toc_title\'>Contents</p>\n<ul  class=\'toc_list\'>\n<li><a href=\'#{c05533d0-235d-42b7-b17c-032be5ecb9e4}\'>Project Summary</a>\n<ul>\n</ul>\n</li>\n<li><a href=\'#{c6c50ec2-e57c-43b0-96a2-407df9142037}\'>Camera Calibration</a>\n<ul>\n</ul>\n</li>\n<li><a href=\'#{8b9b4f26-0a44-4b1c-9c93-940bac100e2b}\'>Photo Positions</a>\n<ul>\n</ul>\n</li>\n<li><a href=\'#{9bcec55e-ca9c-4f51-be46-4fec5976aa4a}\'>Photo Matching</a>\n<ul>\n</ul>\n</li>\n<li><a href=\'#{fbc0ec4a-d453-4eb3-8857-3db48beb9f67}\'>Surveys</a>\n<ul>\n</ul>\n</li>\n</ul>\n</div>\n<p style = \'text-align: right; vertical-align: middle;\'>For more information, please see our <a href=\'https://docs.bentley.com/LiveContent/web/iTwinCaptureModeler%20QualityReport%20Help-v3/en/index.html\'>online manual</a>.<a href=\'https://docs.bentley.com/LiveContent/web/iTwinCaptureModeler%20QualityReport%20Help-v3/en/index.html#\'><img style = \'float: right; vertical-align: middle;\' src = \'icons/userManualIcon.png\' alt=\'\'></a><br/>\n</p><h2 id=\'{c05533d0-235d-42b7-b17c-032be5ecb9e4}\'>Project Summary<img style = \'float: right; vertical-align: middle; cursor: pointer;\' src = \'icons/arrow_up.png\' alt=\'\' id=\'{0fe72516-3514-4a6c-8691-18c4d6bec546}\' class=\'showHideImage\' onclick="toggle(\'{534b9aa8-cfc3-4654-ae0d-94692c2726fd}\',\'{0fe72516-3514-4a6c-8691-18c4d6bec546}\')"/></h2>\n<div id=\'{534b9aa8-cfc3-4654-ae0d-94692c2726fd}\'>\n<table class="simple" >\n\t<tr class="simple" >\n\t\t<td class="simple" >Project:</td>\n\t\t<td class="simple" >2B_1_dehazed-V3465</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Number of photos:</td>\n\t\t<td class="simple" >881</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Ground coverage:</td>\n\t\t<td class="simple" >955.5 square units</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Average ground resolution: <div class=\'popup\' onclick="popupFunction(\'{a816049b-898b-4fcb-92ca-4808cd8f2279}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_left\' id = \'{a816049b-898b-4fcb-92ca-4808cd8f2279}\'>Average size of 1 pixel in \'real world\' units.</span></div></td>\n\t\t<td class="simple" >0.00427 units/pixel</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Camera model(s):</td>\n\t\t<td class="simple" >Unknown camera model</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Processing date:</td>\n\t\t<td class="simple" >10/7/2023 4:57 PM</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Processing time:</td>\n\t\t<td class="simple" >3h 4min</td>\n</tr>\n</table>\n<h3 id=\'{54200b69-b2d7-4774-9594-f2cecfe07f52}\'>Quality Overview</h3>\n<table class="simple" >\n\t<tr class="simple" >\n\t\t<td class="simple" >Dataset: <div class=\'popup\' onclick="popupFunction(\'{f2286b5c-e89c-471b-8b3d-98ec04faa1c6}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_left\' id = \'{f2286b5c-e89c-471b-8b3d-98ec04faa1c6}\'>Number of photos aligned after calibration.</span></div></td>\n\t\t<td class="simple" >868 of 881 photos calibrated (99%)</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Keypoints: <div class=\'popup\' onclick="popupFunction(\'{9e2c1daa-5d4a-4597-964a-06c0f12a1731}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_left\' id = \'{9e2c1daa-5d4a-4597-964a-06c0f12a1731}\'>Number of points of interest automatically detected in the photos.</span></div></td>\n\t\t<td class="simple" >Median of 6203 keypoints per image</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Tie points:</td>\n\t\t<td class="simple" >129796 points, with a median of 664 points per photo.</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Reprojection error (RMS):</td>\n\t\t<td class="simple" >0.74 pixels</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Positioning / scaling:</td>\n\t\t<td class="simple" >Relative, not georeferenced</td>\n</tr>\n</table>\n</div>\n<h2 id=\'{c6c50ec2-e57c-43b0-96a2-407df9142037}\'>Camera Calibration<img style = \'float: right; vertical-align: middle; cursor: pointer;\' src = \'icons/arrow_up.png\' alt=\'\' id=\'{ab967ba6-4c26-42c0-a45b-7208c5d20238}\' class=\'showHideImage\' onclick="toggle(\'{3699b9d7-da14-4fbb-b7bb-444666977a79}\',\'{ab967ba6-4c26-42c0-a45b-7208c5d20238}\')"/></h2>\n<div id=\'{3699b9d7-da14-4fbb-b7bb-444666977a79}\'>\n<h3 id=\'{e9332a74-17e6-48dd-96a8-b7425b920207}\'>Unknown camera 1090x820</h3>\n<table class="simple" >\n\t<tr class="simple" >\n\t\t<td class="simple" >Name:</td>\n\t\t<td class="simple" >Unknown camera model</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Model type: <div class=\'popup\' onclick="popupFunction(\'{f2d929f8-38bc-439d-97eb-0ae5d8aa11e9}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_left\' id = \'{f2d929f8-38bc-439d-97eb-0ae5d8aa11e9}\'>Type of lens (Perspective or Fisheye).</span></div></td>\n\t\t<td class="simple" >Perspective</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Image dimensions:</td>\n\t\t<td class="simple" >1090x820 pixels</td>\n</tr>\n\t<tr class="simple" >\n\t\t<td class="simple" >Number of photos:</td>\n\t\t<td class="simple" >881</td>\n</tr>\n</table>\n<h4 id=\'{66547d69-2f0a-4a15-8319-d4b03eb73e1e}\'>Calibration Results</h4>\n<table class="row_column_header" >\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" ></th>\n\t\t<th class="row_column_header" >Focal Length [pixels]</th>\n\t\t<th class="row_column_header" >Focal Length Equivalent 35 mm [mm] <div class=\'popup\' onclick="popupFunction(\'{2ebb560f-3e9b-45e3-aafe-db99c8d0f956}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_left\' id = \'{2ebb560f-3e9b-45e3-aafe-db99c8d0f956}\'>The focal length needed in a 35 mm camera to obtain the same angle of view as the real lens-sensor combination.</span></div></th>\n\t\t<th class="row_column_header" >Principal Point X [pixels] <div class=\'popup\' onclick="popupFunction(\'{03bb956c-9421-4393-8c26-b3209e0083ae}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_left\' id = \'{03bb956c-9421-4393-8c26-b3209e0083ae}\'>Principal point X: Projection center X - coordinate in pixels (origin is top left corner)<br/>Principal point Y: Projection center Y - coordinate in pixels (origin is top left corner)</span></div></th>\n\t\t<th class="row_column_header" >Principal Point Y [pixels]</th>\n\t\t<th class="row_column_header" >K1 <div class=\'popup\' onclick="popupFunction(\'{8dc14009-0cea-4ae6-9a3f-741bfd57df63}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_right\' id = \'{8dc14009-0cea-4ae6-9a3f-741bfd57df63}\'>K1, K2, K3: Radial distortion coefficients of the lens.<br>P1, P2: Tangential distortion coefficients of the lens.</span></div></th>\n\t\t<th class="row_column_header" >K2</th>\n\t\t<th class="row_column_header" >K3</th>\n\t\t<th class="row_column_header" >P1</th>\n\t\t<th class="row_column_header" >P2</th>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Previous Values</th>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Optimized Values</th>\n\t\t<td class="row_column_header" >709.039</td>\n\t\t<td class="row_column_header" >23.4178</td>\n\t\t<td class="row_column_header" >544.37</td>\n\t\t<td class="row_column_header" >409.37</td>\n\t\t<td class="row_column_header" >-0.10428</td>\n\t\t<td class="row_column_header" >0.146614</td>\n\t\t<td class="row_column_header" >-0.0395891</td>\n\t\t<td class="row_column_header" >-0.00379473</td>\n\t\t<td class="row_column_header" >0.000356619</td>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Difference Previous / Optimized</th>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n\t\t<td class="row_column_header" ></td>\n</tr>\n</table>\n<h4 id=\'{48768287-4ee3-46ac-9ef0-aee7d37f6d6c}\'>Distortion Grid</h4>\n<img src=\'images/camera_grid0.png\' alt=\'\'>\n<p style=\'padding-bottom: 15px;\'><b>Camera Lens Distortion: </b><i>Gray lines represent the zero distortion grid, and blue lines represent the real camera values.</i></p></div>\n<h2 id=\'{8b9b4f26-0a44-4b1c-9c93-940bac100e2b}\'>Photo Positions<img style = \'float: right; vertical-align: middle; cursor: pointer;\' src = \'icons/arrow_up.png\' alt=\'\' id=\'{a76392d2-c809-4aee-ad8b-c828f2cc35ef}\' class=\'showHideImage\' onclick="toggle(\'{4c06da41-3d43-44e1-8fcf-6ade5184fc80}\',\'{a76392d2-c809-4aee-ad8b-c828f2cc35ef}\')"/></h2>\n<div id=\'{4c06da41-3d43-44e1-8fcf-6ade5184fc80}\'>\n<h3 id=\'{f1d97698-e858-43da-aeb8-4173557e9e0b}\'>Photo Position Uncertainties</h3>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/camera_position_uncertainties_Y_X.png\' alt=\'\'>\n<img src=\'images/camera_position_uncertainties_Y_Z.png\' alt=\'\'>\n</div><p style=\'margin: 0px;\'></p>\n<div><img src=\'images/camera_position_uncertainties_Z_X.png\' alt=\'\'>\n</div>\n<p style=\'padding-bottom: 15px;\'><b>Position Uncertainties: </b><i>Top view (XY plane), side view (ZY plane) and front view (XZ plane) of computed photo positions (black dots). Blue ellipses indicate the position uncertainty, scaled for readability. The minimum and maximum values, as well as the average value, can be found in the table below.</i></p><table class="row_column_header" >\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header_2" colspan="4" >Position Uncertainties <div class=\'popup\' onclick="popupFunction(\'{70c1315b-87ef-438d-bf20-031130ac90a8}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_left\' id = \'{70c1315b-87ef-438d-bf20-031130ac90a8}\'>Statistics based on the uncertainty value of each photo position.</span></div></th>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" ></th>\n\t\t<th class="row_column_header" >X [units]</th>\n\t\t<th class="row_column_header" >Y [units]</th>\n\t\t<th class="row_column_header" >Z [units]</th>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Minimum</th>\n\t\t<td class="row_column_header" >0.00009</td>\n\t\t<td class="row_column_header" >0.00009</td>\n\t\t<td class="row_column_header" >0.00012</td>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Mean</th>\n\t\t<td class="row_column_header" >0.00054</td>\n\t\t<td class="row_column_header" >0.00057</td>\n\t\t<td class="row_column_header" >0.00068</td>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Maximum</th>\n\t\t<td class="row_column_header" >0.01717</td>\n\t\t<td class="row_column_header" >0.00462</td>\n\t\t<td class="row_column_header" >0.00827</td>\n</tr>\n</table>\n<p style = "margin-top: 2em;">For more information on individual photos, please refer to the <a href="PhotosReport.html"><b>Photos Report</b></a>.</p>\n<h3 id=\'{8e26bd0e-3a3d-4129-a8ed-779f5cbe1881}\'>Scene Coverage</h3>\n<table>\n<tr>\n<td>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/camera_coverage_Y_X.png\' style=\'padding-right:4px\' alt=\'\'>\n</div>\n</td>\n</tr>\n<tr>\n<td>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/scale_camera_coverage_Y_X.png\' style=\'padding-right:4px\' alt=\'\'></div>\n</td>\n</tr>\n<tr>\n<td>\n<p style=\'padding-bottom: 15px;\'><b>Number of photos seeing the scene: </b><i>Top view (XY plane) display of the scene, with colors indicating the <b>number of photos</b> that potentially see each area.</i></p></td>\n</tr>\n</table>\n</div>\n<h2 id=\'{9bcec55e-ca9c-4f51-be46-4fec5976aa4a}\'>Photo Matching<img style = \'float: right; vertical-align: middle; cursor: pointer;\' src = \'icons/arrow_up.png\' alt=\'\' id=\'{17843a1f-f29f-4100-a336-4501e43bd110}\' class=\'showHideImage\' onclick="toggle(\'{cf8179b5-46f8-4d21-bfdc-a214970a5cf6}\',\'{17843a1f-f29f-4100-a336-4501e43bd110}\')"/></h2>\n<div id=\'{cf8179b5-46f8-4d21-bfdc-a214970a5cf6}\'>\n<h3 id=\'{aa803783-11bd-4cb5-b489-23f515412d35}\'>Quality Measures on Tie Points</h3>\n<table class="row_column_header" >\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header_2" colspan="6" >Generated Tie Points <div class=\'popup\' onclick="popupFunction(\'{9b1bb710-bdc1-4882-9758-f7e35fd1fa84}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_left\' id = \'{9b1bb710-bdc1-4882-9758-f7e35fd1fa84}\'>Statistics based on the tie points generated from the calibration.</span></div></th>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<th class="row_column_header" >Number of Points</th>\n\t\t<th class="row_column_header" >Median Number of Photos per Point</th>\n\t\t<th class="row_column_header" >Median Number of Points per Photo</th>\n\t\t<th class="row_column_header" >Median Reprojection Error [pixels]</th>\n\t\t<th class="row_column_header" >RMS of Reprojection Error [pixels]</th>\n\t\t<th class="row_column_header" >RMS of Distances to Rays [units] <div class=\'popup\' onclick="popupFunction(\'{60ba8e80-dbae-44cb-90bb-1a968d0de825}\')"><img src = \'icons/info.png\' style = \'vertical-align: middle\' alt=\'\'><span class = \'popuptext_right\' id = \'{60ba8e80-dbae-44cb-90bb-1a968d0de825}\'>The square root of the average of the square distances to rays. A ray is the 3D line that starts from a photo position and passes through the tie-point position observed in that photo. The orthogonal distance from the real tie-point 3D position to that ray is the distance to ray.</span></div></th>\n</tr>\n\t<tr class="row_column_header" >\n\t\t<td class="row_column_header" >129796</td>\n\t\t<td class="row_column_header" >4</td>\n\t\t<td class="row_column_header" >664</td>\n\t\t<td class="row_column_header" >0.56</td>\n\t\t<td class="row_column_header" >0.74</td>\n\t\t<td class="row_column_header" >0.01364</td>\n</tr>\n</table>\n<p style = "margin-top: 2em;">For more information on individual photos, please refer to the <a href="PhotosReport.html"><b>Photos Report</b></a>.</p>\n<h4 id=\'{0d945cd0-82b2-4192-b8e2-9b818c87ec02}\'>Tie Point Position Uncertainties</h4>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/tie_points_uncertainties_Y_X.png\' style=\'padding-right:4px\' alt=\'\'><img src=\'images/tie_points_uncertainties_Y_Z.png\' style=\'padding-right:4px\' alt=\'\'></div><p style=\'margin: 0px;\'></p>\n<div><img src=\'images/tie_points_uncertainties_Z_X.png\' style=\'padding-right:4px\' alt=\'\'></div>\n<p><img src=\'images/scale_uncertainties.png\' alt=\'\'></p><p style=\'padding-bottom: 15px;\'><b>Position Uncertainties: </b><i>Top view (XY plane), side view (ZY plane) and front view (XZ plane) displays of all tie points, with colors representing uncertainty in the individual point position. The values are in 3D units, with a minimum uncertainty of <b style=\'font-style: normal\'>0.0008 units</b> and a maximum of <b style=\'font-style: normal\'>2.67831 units</b>. The median position uncertainty equals <b style=\'font-style: normal\'>0.01708 units</b>.</i></p><h4 id=\'{24f7af4c-c900-4214-8719-5d9a4b3d6bc7}\'>Number of Photos Observing the Tie Points</h4>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/tie_points_length_Y_X.png\' style=\'padding-right:4px\' alt=\'\'><img src=\'images/tie_points_length_Y_Z.png\' style=\'padding-right:4px\' alt=\'\'></div><p style=\'margin: 0px;\'></p>\n<div><img src=\'images/tie_points_length_Z_X.png\' style=\'padding-right:4px\' alt=\'\'></div>\n<p><img src=\'images/scale_length.png\' alt=\'\'></p><p style=\'padding-bottom: 15px;\'><b>Number of Observations per Tie Point: </b><i>Top view (XY plane), side view (ZY plane) and front view (XZ plane) displays of all tie points, with colors representing the number of photos that have been used to define each point. The minimum number of photos per tie point is <b style=\'font-style: normal\'>3</b> and the maximum is <b style=\'font-style: normal\'>49</b>. The average number of photos observing a tie point is <b style=\'font-style: normal\'>5</b>.</i></p><h4 id=\'{89456e2e-adb7-4eae-80ac-1fd6a5496b00}\'>Reprojection Error</h4>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/tie_points_reprojection_Y_X.png\' style=\'padding-right:4px\' alt=\'\'><img src=\'images/tie_points_reprojection_Y_Z.png\' style=\'padding-right:4px\' alt=\'\'></div><p style=\'margin: 0px;\'></p>\n<div><img src=\'images/tie_points_reprojection_Z_X.png\' style=\'padding-right:4px\' alt=\'\'></div>\n<p><img src=\'images/scale_reprojection.png\' alt=\'\'></p><p style=\'padding-bottom: 15px;\'><b>Reprojection Errors per Tie Point: </b><i>Top view (XY plane), side view (ZY plane) and front view (XZ plane) displays of all tie points, with colors representing the reprojection error in pixels. The minimum reprojection error is <b style=\'font-style: normal\'>0.01 pixels</b> and the maximum is <b style=\'font-style: normal\'>1.81 pixels</b>. The average reprojection error is <b style=\'font-style: normal\'>0.67 pixels</b>.</i></p><h4 id=\'{d99207ba-575f-4689-87c8-6ecf7f370823}\'>Tie Point Resolution</h4>\n<div style=\'white-space: nowrap;\'>\n<img src=\'images/tie_points_resolution_Y_X.png\' style=\'padding-right:4px\' alt=\'\'><img src=\'images/tie_points_resolution_Y_Z.png\' style=\'padding-right:4px\' alt=\'\'></div><p style=\'margin: 0px;\'></p>\n<div><img src=\'images/tie_points_resolution_Z_X.png\' style=\'padding-right:4px\' alt=\'\'></div>\n<p><img src=\'images/scale_resolution.png\' alt=\'\'></p><p style=\'padding-bottom: 15px;\'><b>Resolution: </b><i>Top view (XY plane), side view (ZY plane) and front view (XZ plane) displays of all tie points, with colors representing resolution in the individual point position. The values are in 3D units/pixel, with a minimum resolution of <b style=\'font-style: normal\'>0.00111 units/pixel</b> and a maximum of <b style=\'font-style: normal\'>0.05624 units/pixel</b>. The median resolution equals <b style=\'font-style: normal\'>0.00483 units/pixel</b>.</i></p></div>\n<h2 id=\'{fbc0ec4a-d453-4eb3-8857-3db48beb9f67}\'>Surveys<img style = \'float: right; vertical-align: middle; cursor: pointer;\' src = \'icons/arrow_up.png\' alt=\'\' id=\'{dd44a7d4-53e9-4aea-a536-33fba69eda62}\' class=\'showHideImage\' onclick="toggle(\'{1b7c5ab6-4920-4786-9b2f-d85684d19c44}\',\'{dd44a7d4-53e9-4aea-a536-33fba69eda62}\')"/></h2>\n<div id=\'{1b7c5ab6-4920-4786-9b2f-d85684d19c44}\'>\n<p>No survey points available.</p>\n</div>\n\n</body>\n</html>\n'


